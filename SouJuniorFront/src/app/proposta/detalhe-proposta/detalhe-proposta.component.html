<div class="principal">
  <div id="hero">
    <app-authorize-view [role] = "'empreendedor'">

      <ng-container authorized>

        <div *ngIf="proposta.isAceita === null" >
          <p id="pendente">Pendente</p>
        </div>
        <div *ngIf="proposta.isAceita === true">
          <p id="aprovado">Aprovada</p>
        </div>
        <div *ngIf="proposta.isAceita === false">
          <p id="recusado">Recusada</p>
        </div>

        <section class="content">
          <div class="container">
            <article>
              <h1>Empresa</h1>
              <img [src]="proposta.empresaJr.imagemPerfil" alt="">
              <h2>{{proposta.empresaJr.nomeFantasia}}</h2>
              <p>{{proposta.empresaJr.descricao}}</p>
                <h3><mdb-icon fas icon="map-marked"></mdb-icon> {{proposta.empresaJr.endereco.logradouro}},
                  {{proposta.empresaJr.endereco.numero}},
                  {{proposta.empresaJr.endereco.complemento}},
                  {{proposta.empresaJr.endereco.bairro}},
                  {{proposta.empresaJr.endereco.cidade}},
                  {{proposta.empresaJr.endereco.estado}},
                  {{proposta.empresaJr.endereco.cep}}</h3>
                  <div *ngIf="proposta.isAceita === true" >
                    <h3><mdb-icon fas icon="address-book"></mdb-icon>
                      {{proposta.empresaJr.telefone}}, {{proposta.empresaJr.email}}</h3>
                  </div>
            </article>
            <article>
              <h1 class="h2 mb-4">Proposta</h1>
              <h2>{{proposta.titulo}}</h2>
              <p>{{proposta.descricao}}</p>
              <p>{{proposta.dataCriacao.substring(0,10).replace("-","/").replace("-","/")}}</p>
            </article>

          </div>
        </section>
        <div class="form-row mb-4">
          <div class="col">
          </div>
          <div class="col" *ngIf="proposta.isAceita==null">
            <button mdbBtn color="danger" block="true" class="my-4"
            [swal]="{
              title:'Excluir',
              text: 'Tem Certeza que deseja Exluir a Proposta?',
              showCancelButton:true
            }" (confirm)="excluir()">Excluir</button>
          </div>
          <div class="col">
            <button mdbBtn color="primary" block="true" class="my-4" routerLink="/listaProposta">Voltar</button>
          </div>
          <div class="col">
          </div>
        </div>

      </ng-container>
    </app-authorize-view>
  </div>


    <app-authorize-view [role] = "'empresajr'">
      <ng-container authorized>
        <section class="content">
          <div class="container">
            <article>
              <h1>Empresa</h1>
              <img [src]="proposta.empreendedor.imagemPerfil" alt="">
              <h2>{{proposta.empreendedor.nomeFantasia}}</h2>
              <p>{{proposta.empreendedor.descricao}}</p>
                <h3><mdb-icon fas icon="map-marked"></mdb-icon> {{proposta.empreendedor.endereco.logradouro}},
                  {{proposta.empreendedor.endereco.numero}},
                  {{proposta.empreendedor.endereco.complemento}},
                  {{proposta.empreendedor.endereco.bairro}},
                  {{proposta.empreendedor.endereco.cidade}},
                  {{proposta.empreendedor.endereco.estado}},
                  {{proposta.empreendedor.endereco.cep}}</h3>
                  <div *ngIf="proposta.isAceita === true" >
                    <h3><mdb-icon fas icon="address-book"></mdb-icon>
                      {{proposta.empreendedor.telefone}},  {{proposta.empreendedor.email}}</h3>
                  </div>
            </article>
            <article>
              <h1 class="h2 mb-4">Proposta</h1>
              <h2>{{proposta.titulo}}</h2>
              <p>{{proposta.descricao}}</p>
              <p>{{proposta.dataCriacao.substring(0,10).replace("-","/").replace("-","/")}}</p>
            </article>

          </div>
        </section>

        <div *ngIf="proposta.isAceita == null" class="form-row mb-4">
          <div class="col">
            <button mdbBtn color="primary" block="true" class="my-4" routerLink="/listaProposta">Voltar</button>
          </div>
          <div class="col">
            <button mdbBtn color="danger" block="true" class="my-4"
            [swal]="{
              icon: 'info',
              title:'Recusar',
              text: 'Tem Certeza que deseja Recusar a Proposta?',
              showCancelButton:true
            }"
            (confirm)="reprovar()" type="submit">Recusar</button>
          </div>
          <div class="col">
            <button mdbBtn color="success" block="true" class="my-4"
            [swal]="{
              icon: 'info',
              title:'Aceitar',
              text: 'Tem Certeza que deseja Aceitar a Proposta?',
              showCancelButton:true
            }"
            (confirm)="aprovar()" type="submit">Aceitar Proposta</button>
          </div>
        </div>
        <div *ngIf="proposta.isAceita != null" class="form-row mb-4">
          <div class="col">
          </div>
          <div class="col">
            <button mdbBtn color="primary" block="true" class="my-4" routerLink="/listaProposta">Voltar</button>
          </div>
          <div class="col">
          </div>
        </div>
          <div *ngIf="proposta.isAceita === null" >
            <p id="pendente">Pendente</p>
          </div>
          <div *ngIf="proposta.isAceita === true">
            <p id="aprovado">Aprovada</p>
          </div>
          <div *ngIf="proposta.isAceita === false">
            <p id="recusado">Recusada</p>
          </div>
      </ng-container>
    </app-authorize-view>

</div>
